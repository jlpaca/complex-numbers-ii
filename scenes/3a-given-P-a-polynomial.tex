% polarshift tool
\newenvironment{polarshift}[2]{
  \begin{scope}[shift={({\zunit*(#1)*cos(#2 r)}, {\zunit*(#1)*sin(#2 r)})}]
}{
  \end{scope}
}

\kfframes{12}{
  \newcommand{\ta}{1}
  \newcommand{\tb}{2} % grid in
  \newcommand{\tc}{4} % z in
  \newcommand{\td}{8} % where is P(z) ?
  \newcommand{\te}{11}
  
  \pgfmathsetmacro\za{1.2}
  \pgfmathsetmacro\zr{1.3}
  
  \zgrid[in=\tb, origin y=\halfheight-2.5, unit=1.5]{

    \zin[in=\tc, arg visible=false]{\zr}{\za}
    \kftextin[in=\tc, duration=\dt, offset fst=0.55, offset snd=pi/8]{\zunit*\zr}{\za}{$z$}

    % \z[arg visible=false]{\zr^3}{3*\za}
    \begin{polarshift}{\zr^3}{3*\za}
      % \z[arg visible=false]{-3*\zr^2}{2*\za}
      \begin{polarshift}{-3*\zr^2}{2*\za}
        % \z[arg visible=false]{4*\zr}{\za}
        \begin{polarshift}{4*\zr}{\za}
          %\z[arg visible=false]{2}{pi}
          \begin{polarshift}{2}{pi}
            \kftween[in=(\td-\dt/2), duration=(\dt/2)]{0}{0.12}
            \pgfmathsetmacro\xr\pgfmathresult
            \kftween[in=(\te-\dt/2), duration=(\dt/2)]{0}{0.12}
            \pgfmathsetmacro\xr{\xr-\pgfmathresult}

            \fill (0, 0) circle (\xr);
            \kftextin[in=\td, duration=\dt, out=(\te-\dt)]{1.5}{0}{$P(z)$ ?}
            \kftextout[in=(\te-\dt), out=\te]{1.5}{0}{$P(z)$ ?}
         
          \end{polarshift}          
        \end{polarshift}
      \end{polarshift}
    \end{polarshift}   
  }
  \kftween[in=\ta, duration=\dt]{11}{\halfwidth}
  \pgfmathsetmacro\xw\pgfmathresult
 
  \kftextin[duration=\dt, polar=false]{\xw}{\halfheight+1}{\colorbox{bg-a}{$P(z) \phantom{= z^3 - 3z^2 + 4z - 2}$}}
  \kftextin[in=(\ta+\dt/2), duration=\dt, polar=false]{\halfwidth}{\halfheight+1}{$\phantom{P(z)} = z^3 - 3z^2 + 4z - 2$}

}
